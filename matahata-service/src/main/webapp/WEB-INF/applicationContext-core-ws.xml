<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:jaxws="http://cxf.apache.org/jaxws"
	xmlns:cxf="http://cxf.apache.org/core"
	xmlns:http-conf="http://cxf.apache.org/transports/http/configuration"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
						http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
						http://www.springframework.org/schema/tx
						http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
						http://cxf.apache.org/jaxws
						http://cxf.apache.org/schemas/jaxws.xsd
						http://cxf.apache.org/core
						http://cxf.apache.org/schemas/core.xsd
						http://cxf.apache.org/transports/http/configuration
						http://cxf.apache.org/schemas/configuration/http-conf.xsd">
						
	<!-- Load CXF modules from cxf.jar -->
	<import resource="classpath:META-INF/cxf/cxf.xml" />
	<import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
	<import resource="classpath:META-INF/cxf/cxf-servlet.xml" />
						
	<import resource="classpath:applicationContext-core-sp.xml" />

    <!-- Enable message logging using the CXF logging feature -->
    <cxf:bus>
        <cxf:features>
            <cxf:logging/>
        </cxf:features>
    </cxf:bus>
    
    <!-- Aegis data binding -->
<!--     <bean id="aegisBean" -->
<!-- 		  class="org.apache.cxf.aegis.databinding.AegisDatabinding" -->
<!-- 		  scope="prototype"/>  -->
<!--     <bean id="jaxws-and-aegis-service-factory" -->
<!--           class="org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean" -->
<!--           scope="prototype"> -->
<!--         <property name="dataBinding" ref="aegisBean"/> -->
<!--         <property name="serviceConfigurations"> -->
<!-- 			<list> -->
<!-- 				<bean class="org.apache.cxf.jaxws.support.JaxWsServiceConfiguration"/> -->
<!-- 				<bean class="org.apache.cxf.aegis.databinding.AegisServiceConfiguration"/> -->
<!-- 				<bean class="org.apache.cxf.service.factory.DefaultServiceConfiguration"/>  -->
<!-- 			</list> -->
<!-- 		</property> -->
<!--     </bean> -->

	<!-- Adapters -->
	
	<bean id="accountManagementAdapter" class="com.zwort.matahata.core.sp.adapter.AccountManagementAdapter" />

	<bean id="categoryManagementAdapter" class="com.zwort.matahata.core.sp.adapter.CategoryManagementAdapter" />

	<bean id="planManagementAdapter" class="com.zwort.matahata.core.sp.adapter.PlanManagementAdapter" />

	<bean id="expenseManagementAdapter" class="com.zwort.matahata.core.sp.adapter.ExpenseManagementAdapter" />

	<bean id="transferManagementAdapter" class="com.zwort.matahata.core.sp.adapter.TransferManagementAdapter" />

	<bean id="incomeManagementAdapter" class="com.zwort.matahata.core.sp.adapter.IncomeManagementAdapter" />

	<bean id="substituteSellerAdapter" class="com.zwort.matahata.core.sp.adapter.SubstituteSellerAdapter" />

	<!-- CXF services implementation -->
	
	<bean id="accountManagementWS" class="com.zwort.matahata.core.sp.ws.impl.AccountManagementImpl">
		<property name="adapter" ref="accountManagementAdapter" />
	</bean>

	<bean id="categoryManagementWS" class="com.zwort.matahata.core.sp.ws.impl.CategoryManagementImpl">
		<property name="adapter" ref="categoryManagementAdapter" />
	</bean>
	
<!-- 	<bean id="expenseManagementWS" class="com.zwort.matahata.core.sp.ws.impl.ExpenseManagementImpl"> -->
<!-- 		<property name="adapter" ref="expenseManagementAdapter" /> -->
<!-- 	</bean> -->

<!-- 	<bean id="transferManagementWS" class="com.zwort.matahata.core.sp.ws.impl.TransferManagementImpl"> -->
<!-- 		<property name="adapter" ref="transferManagementAdapter" /> -->
<!-- 	</bean> -->

<!-- 	<bean id="incomeManagementWS" class="com.zwort.matahata.core.sp.ws.impl.IncomeManagementImpl"> -->
<!-- 		<property name="adapter" ref="incomeManagementAdapter" /> -->
<!-- 	</bean> -->

	<bean id="matahataServiceWS" class="com.zwort.matahata.core.sp.ws.impl.MatahataServiceImpl">
		<property name="incomeManagementAdapter" ref="incomeManagementAdapter" />
		<property name="transferManagementAdapter" ref="transferManagementAdapter" />
		<property name="expenseManagementAdapter" ref="expenseManagementAdapter" />
		<property name="planManagementAdapter" ref="planManagementAdapter" />
	</bean>

	<bean id="dupaServiceWS" class="com.zwort.matahata.core.sp.ws.impl.DupaServiceImpl">
		<property name="substituteSellerAdapter" ref="substituteSellerAdapter" />
	</bean>

	<!-- CXF services endpoints -->

<!-- 	<jaxws:endpoint id="accountManagementEnd" -->
<!-- 					address="/AccountManagementHttpPort" -->
<!-- 					implementor="#accountManagementWS">					 -->

<!-- 		<jaxws:properties> -->
<!--             <entry key="schema-validation-enabled" value="true" /> -->
<!--         </jaxws:properties> -->

<!--         <jaxws:serviceFactory> -->
<!--             <ref bean="jaxws-and-aegis-service-factory"/> -->
<!--         </jaxws:serviceFactory> -->
<!-- 	</jaxws:endpoint>         -->

<!-- 	<jaxws:endpoint id="categoryManagementEnd" -->
<!-- 					address="/CategoryManagementHttpPort" -->
<!-- 					implementor="#categoryManagementWS">					 -->

<!-- 		<jaxws:properties> -->
<!--             <entry key="schema-validation-enabled" value="true" /> -->
<!--         </jaxws:properties> -->

<!--         <jaxws:serviceFactory> -->
<!--             <ref bean="jaxws-and-aegis-service-factory"/> -->
<!--         </jaxws:serviceFactory> -->
<!-- 	</jaxws:endpoint>         -->

<!-- 	<jaxws:endpoint id="planManagementEnd" -->
<!-- 					address="/PlanManagementHttpPort" -->
<!-- 					implementor="#planManagementWS">					 -->

<!-- 		<jaxws:properties> -->
<!--             <entry key="schema-validation-enabled" value="true" /> -->
<!--         </jaxws:properties> -->

<!--         <jaxws:serviceFactory> -->
<!--             <ref bean="jaxws-and-aegis-service-factory"/> -->
<!--         </jaxws:serviceFactory> -->
<!-- 	</jaxws:endpoint>         -->

<!-- 	<jaxws:endpoint id="expenseManagementEnd" -->
<!-- 					address="/ExpenseManagementHttpPort" -->
<!-- 					implementor="#expenseManagementWS">					 -->
<!-- 		<jaxws:properties> -->
<!--             <entry key="schema-validation-enabled" value="true" /> -->
<!--         </jaxws:properties> -->
<!-- 	</jaxws:endpoint>         -->

<!-- 	<jaxws:endpoint id="transferManagementEnd" -->
<!-- 					address="/TransferManagementHttpPort" -->
<!-- 					implementor="#transferManagementWS">					 -->

<!-- 		<jaxws:properties> -->
<!--             <entry key="schema-validation-enabled" value="true" /> -->
<!--         </jaxws:properties> -->

<!--         <jaxws:serviceFactory> -->
<!--             <ref bean="jaxws-and-aegis-service-factory"/> -->
<!--         </jaxws:serviceFactory> -->
<!-- 	</jaxws:endpoint>         -->

<!-- 	<jaxws:endpoint id="incomeManagementEnd" -->
<!-- 					address="/IncomeManagementHttpPort" -->
<!-- 					implementor="#incomeManagementWS"> -->

<!-- 		<jaxws:properties> -->
<!--             <entry key="schema-validation-enabled" value="true" /> -->
<!--         </jaxws:properties> -->

<!--         <jaxws:serviceFactory> -->
<!--             <ref bean="jaxws-and-aegis-service-factory"/> -->
<!--         </jaxws:serviceFactory> -->
<!-- 	</jaxws:endpoint>         -->

	<jaxws:endpoint id="matahataServiceEndpoint"
					address="/MatahataServicePortType"
					implementor="#matahataServiceWS">
<!-- 					wsdlLocation="C:/Users/ext-konopi/Documents/Matahata/workspace/matahata-core-sp/src/main/resources/wsdl/MatahataService.wsdl"> -->

		<jaxws:properties>
            <entry key="schema-validation-enabled" value="true" />
        </jaxws:properties>

<!--         <jaxws:serviceFactory> -->
<!--             <ref bean="jaxws-and-aegis-service-factory"/> -->
<!--         </jaxws:serviceFactory> -->
	</jaxws:endpoint>        
	<jaxws:endpoint id="dupaServiceEndpoint"
					address="/DupaServicePortType"
					implementor="#dupaServiceWS">
<!-- 					wsdlLocation="C:/Users/ext-konopi/Documents/Matahata/workspace/matahata-core-sp/src/main/resources/wsdl/MatahataService.wsdl"> -->

		<jaxws:properties>
            <entry key="schema-validation-enabled" value="true" />
        </jaxws:properties>

<!--         <jaxws:serviceFactory> -->
<!--             <ref bean="jaxws-and-aegis-service-factory"/> -->
<!--         </jaxws:serviceFactory> -->
	</jaxws:endpoint>        

</beans>	